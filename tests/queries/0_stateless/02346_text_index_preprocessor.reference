Positive tests on preprocessor construction and use.
- Test simple preprocessor expression.
1
1
1
1
1
1
0
1
1
1
1
1
1
1
1
- Test simple preprocessor expression with LowCardinality.
1
1
1
1
1
1
0
1
1
1
1
1
1
1
1
- Test simple preprocessor expression with FixedString.
1
1
1
1
1
1
1
1
- Test preprocessor declaration using column more than once.
1
0
1
1
0
0
0
1
0
1
1
1
0
1
1
- Test preprocessor declaration using udf.
1
0
1
1
0
0
0
1
0
1
1
1
0
1
1
Negative tests on preprocessor construction validations.
- The preprocessor argument must not reference non-indexed columns
- The preprocessor must be an expression
- The preprocessor must be an expression, with existing functions
- The preprocessor must have input and output values of the same type (here: String)
- The preprocessor expression must use the column identifier
- The preprocessor expression must use only deterministic functions
- The preprocessor expression must be a function, not an identifier
- The preprocessor expression must not contain arrayJoin
Expression support
- Expression positive tests
-- Index definition must be the an expression used in the preprocessor
--- Single arguments
1
0
1
1
0
0
0
1
0
1
1
1
0
1
1
--- Multiple arguments
1
0
1
1
0
0
0
1
0
1
1
1
0
1
1
- Expression negative tests
-- Index definition may not be a different expression than used in the preprocessor
Array support
- Array positive tests
-- Test simple preprocessor expression with Array(String).
1
1
1
1
1
1
1
1
-- Test simple preprocessor expression with Array(FixedString).
1
1
1
1
1
1
1
1
Maps support
- Map positive tests
-- Index definition must be an expression
1
1
1
1
1
1
1
1
- Map negative tests
-- Index on whole map must fail
-- Index definition must appear literally in the preprocessor expression
